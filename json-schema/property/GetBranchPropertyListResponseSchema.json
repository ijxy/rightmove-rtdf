{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Rightmove Realtime Datafeed Json Schema for GetBranchPropertyList response",
  "type": "object",
  "properties": {
    "request_id": {
      "type": "string",
      "description": "The unique ID of the request which this response is associated with"
    },
    "message": {
      "type": "string",
      "description": "The message content for the response"
    },
    "success": {
      "type": "boolean",
      "description": "Indicates whether or not the request was successful"
    },
    "request_timestamp": {
      "type": "string",
      "description": "The time at which the request was received in the format: dd-MM-yyyy HH:mm:ss"
    },
    "response_timestamp": {
      "type": "string",
      "description": "The time at which the response was sent in the format: dd-MM-yyyy HH:mm:ss"
    },
    "branch": {
      "type": ["object", "null"],
      "description": "Information about the branch sent in the request",
      "properties": {
        "branch_id": {
          "type": ["integer", "null"],
          "description": "Unique Rightmove ID for the branch sent in the request",
          "$id": "branch_id"
        },
        "channel": {
          "type": ["integer", "null"],
          "enum": [1, 2, null],
          "description": "For dual branches it allows to retrieve all the properties for a specific channel",
          "$id": "channel"
        }
      },
      "additionalProperties": false,
      "required": ["branch_id"]
    },
    "property": {
      "type": ["array", "null"],
      "description": "The list of live properties on Rightmove for the branch sent in the request",
      "uniqueItems": true,
      "items": {
        "type": "object",
        "required": ["rightmove_id", "agent_ref", "channel"],
        "description": "The details of an individual property for this branch",
        "properties": {
          "rightmove_id": {
            "type": "integer",
            "description": "Rightmove's unique reference for this property",
            "$id": "rightmove_id"
          },
          "agent_ref": {
            "type": "string",
            "description": "The agent's unique reference for this property",
            "$id": "agent_ref"
          },
          "update_date": {
            "type": ["string", "null"],
            "description": "The last update date provided for this property in the format: dd-MM-yyyy HH:mm:ss",
            "$id": "update_date"
          },
          "channel": {
            "type": "integer",
            "enum": [1, 2],
            "description": "The channel for this property",
            "$id": "property_channel"
          }
        },
        "additionalProperties": false,
        "$id": "property"
      },
      "$id": "property_list"
    },
    "errors": {
      "type": ["array", "null"],
      "description": "The errors causing the request to fail",
      "minItems": 0,
      "items": {
        "type": ["object", "null"],
        "required": ["error_code", "error_description"],
        "properties": {
          "error_code": {
            "type": "string",
            "description": "The unique Rightmove code for the error causing the request to fail",
            "$id": "error_code"
          },
          "error_description": {
            "type": "string",
            "description": "The full description of the error associated with the error code which has been generated",
            "$id": "error_description"
          },
          "error_value": {
            "type": ["string", "null"],
            "description": "The value that caused this error",
            "$id": "error_value"
          }
        },
        "additionalProperties": false
      }
    },
    "warnings": {
      "type": ["array", "null"],
      "description": "The warning generated by the request",
      "minItems": 0,
      "items": {
        "type": ["object", "null"],
        "required": ["warning_code", "warning_description"],
        "properties": {
          "warning_code": {
            "type": "string",
            "description": "The unique Rightmove warning code generated due to failure to pass all of the business rules",
            "$id": "warning_code"
          },
          "warning_description": {
            "type": "string",
            "description": "The full description of the warning associated with the warning code which has been generated",
            "$id": "warning_description"
          },
          "warning_value": {
            "type": ["string", "null"],
            "description": "The value that caused this warning",
            "$id": "warning_value"
          }
        },
        "additionalProperties": false
      }
    }
  },
  "additionalProperties": false,
  "required": ["request_id", "message", "success", "request_timestamp", "response_timestamp"]
}
